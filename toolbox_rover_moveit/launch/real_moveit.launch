<launch>
  <include file="$(find toolbox_rover_moveit)/launch/planning_context.launch"/>

  <node pkg="rover_hardware" type="rover_hw_node" name="rover_hw_node" output="screen"/>

  <rosparam file="$(find rover_description)/config/controllers_unified.yaml" command="load"/>
  <node pkg="controller_manager" type="spawner" name="controller_spawner"
        args="joint_state_controller
              joint1_link_controller joint2_link_controller joint3_link_controller
              joint4_link_controller joint5_link_controller"/>

  <node pkg="rover_arm_traj" type="traj_splitter" name="traj_splitter" output="screen"/>
  <node pkg="rover_arm" type="arm_homing_node.py" name="arm_homing_safety" output="screen"/>

  <include file="$(find moveit_ros_move_group)/launch/move_group.launch">
    <arg name="fake_execution" value="false"/>
  </include>

  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find moveit_ros_visualization)/launch/moveit.rviz"/>
</launch>
